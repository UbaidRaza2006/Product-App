(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{7131:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(5479)}])},5479:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var n=r(6837),s=r.n(n),o=r(4637),a=r(8271),i=r(8212),l=r(1489),c=r.n(l),u=r(7258),d=r.n(u),m=r(5467),f=r(2273),p=r(9496),x=r(1184),h=r(3093),g=r(486),w=r(9929);function v(e,t,r,n,s,o,a){try{var i=e[o](a),l=i.value}catch(c){return void r(c)}i.done?t(l):Promise.resolve(l).then(n,s)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){b(e,t,r[t])}))}return e}function j(){var e=(0,x.cI)(),t=e.handleSubmit,r=e.register,n=e.formState.errors,l=e.setValue,u=(0,p.useState)(!1),b=u[0],j=u[1],N=(0,p.useContext)(w.yh),E=N.state.userInfo,k=N.dispatch,O=(0,f.useRouter)(),_=O.query.redirect,C=function(){var e,t=(e=s().mark((function e(t){var r,n,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,n=t.password,e.prev=1,e.next=4,c().post("/api/users/login",{email:r,password:n});case 4:o=e.sent.data,k({type:"USER_LOGIN",payload:o}),d().set("userInfo",o),O.push(_||"/"),h.ZP.success("You're logged in",{duration:3e3}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),h.ZP.error((0,w.by)(e.t0),{duration:3e3});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})),function(){var t=this,r=arguments;return new Promise((function(n,s){var o=e.apply(t,r);function a(e){v(o,n,s,a,i,"next",e)}function i(e){v(o,n,s,a,i,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,p.useEffect)((function(){E&&O.push(_||"/")}),[O,E,_]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g.uw,{title:"Sign In",url:"https://nextzone.vercel.app/".concat(O.asPath)}),(0,o.jsxs)("div",{className:"min-h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,o.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,o.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),(0,o.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",(0,o.jsx)(m.default,{href:"/register?redirect=".concat(_||"/"),passHref:!0,children:(0,o.jsx)("span",{className:"font-medium text-indigo-600 hover:text-indigo-500 cursor-pointer",children:"Create a new one."})})]})]}),(0,o.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,o.jsx)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:(0,o.jsxs)("form",{className:"space-y-6",onSubmit:t(C),children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),(0,o.jsx)("div",{className:"mt-1 relative rounded-md shadow-sm",children:(0,o.jsx)("input",y({id:"email",name:"email",type:"email",autoComplete:"email",className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},r("email",{required:!0,pattern:/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/})))}),n.email&&(0,o.jsx)("p",{className:"mt-2 text-sm text-red-600",id:"email-error",children:"Your email is not valid."})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,o.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[(0,o.jsx)("input",y({id:"password",name:"password",type:b?"text":"password",autoComplete:"current-password",className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},r("password",{required:!0,minLength:6}))),(0,o.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:b?(0,o.jsx)(a.Z,{className:"h-5 w-5 text-indigo-500 cursor-pointer",onClick:function(){return j(!1)}}):(0,o.jsx)(i.Z,{className:"h-5 w-5 text-indigo-500 cursor-pointer",onClick:function(){return j(!0)}})})]}),n.password&&(0,o.jsx)("p",{className:"mt-2 text-sm text-red-600",id:"email-error",children:"Your password must be atleast 6 characters long."})]}),(0,o.jsx)("div",{children:(0,o.jsx)("input",{type:"submit",value:"Sign in",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 cursor-pointer"})}),(0,o.jsx)("button",{onClick:function(){l("email","guest@mail.co"),l("password","Pass@1234")},className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 cursor-pointer",children:"Sign in as Guest"})]})})})]})]})}},8212:function(e,t,r){"use strict";var n=r(9496);const s=n.forwardRef((function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),n.createElement("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"}))}));t.Z=s},8271:function(e,t,r){"use strict";var n=r(9496);const s=n.forwardRef((function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),n.createElement("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"}))}));t.Z=s}},function(e){e.O(0,[184,774,888,179],(function(){return t=7131,e(e.s=t);var t}));var t=e.O();_N_E=t}]);